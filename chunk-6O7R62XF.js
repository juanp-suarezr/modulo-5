import{U as a,n as i}from"./chunk-EHKYV6BG.js";var c=(()=>{class r{users=[{id:1,username:"superTransporte",fullName:"Rol escritura territorial ministerio",email:"terriescritura@example.com",password:"123456",roles:[{id:101,roleName:"ROLE_ESCRITURA_MIN",description:"Rol escritura territorial ministerio"}],isActive:!0,createdAt:"2024-08-16T08:30:00Z",lastLogin:"2024-08-15T18:45:00Z"},{id:2,username:"gestionDoc",fullName:"Rol escritura gesti\xF3n documental",email:"gestiondoc@example.com",password:"123456",roles:[{id:101,roleName:"ROLE_ESCRITURA_GESDOC",description:"Rol escritura gestion documental"}],isActive:!0,createdAt:"2024-08-16T08:30:00Z",lastLogin:"2024-08-15T18:45:00Z"},{id:3,username:"SuperiTransporte",fullName:"Rol (Lectura y escritura) de la Superintendencia de Transporte",email:"supertransporte@example.com",password:"123456",roles:[{id:101,roleName:"ROLE_SUPERTRANSPORTE",description:"Rol escritura y lectura Superintendencia de Transporte"}],isActive:!0,createdAt:"2024-08-16T08:30:00Z",lastLogin:"2024-08-15T18:45:00Z"}];currentUser=null;constructor(){if(typeof localStorage<"u"){let t=localStorage.getItem("user");t&&(this.currentUser=JSON.parse(t))}else console.warn("localStorage is not available")}login(t,s){let e=this.users.find(o=>o.email===t&&o.password===s);return e?(localStorage.setItem("user",JSON.stringify(e)),this.currentUser=e,i({token:"fake-jwt-token",user:{id:e.id,username:e.username,fullName:e.fullName,roles:e.roles,isActive:e.isActive,createdAt:e.createdAt,lastLogin:e.lastLogin}})):i({error:"Invalid credentials"})}getUsers(){return this.users}logout(){localStorage.removeItem("user"),this.currentUser=null,location.reload()}isAuthenticated(){return!!this.currentUser}static \u0275fac=function(s){return new(s||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{c as a};
