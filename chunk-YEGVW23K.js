import{a as F}from"./chunk-6O7R62XF.js";import{b as I,e as L,f as N,h as j,i as T,j as O,s as W,u as k}from"./chunk-4WBP37JA.js";import{e as C,f as _,i as E,v as M}from"./chunk-64Z3WTLD.js";import{Eb as n,Gb as l,Hb as f,Ib as g,Jb as h,Lb as y,Ra as o,Sa as p,ca as v,eb as u,gb as c,lb as e,mb as t,nb as b,ub as w,vb as S}from"./chunk-EHKYV6BG.js";function q(r,m){if(r&1&&(e(0,"div",25)(1,"h4"),n(2),t(),e(3,"p"),n(4),t(),e(5,"p"),n(6),t()()),r&2){let i=m.$implicit;o(2),l(" ",i.fullName," "),o(2),l(" Email: ",i.email," "),o(2),l(" Contrase\xF1a: ",i.password," ")}}function D(r,m){if(r&1&&(e(0,"div",26),n(1),t()),r&2){let i=S();o(),l(" ",i.errorMessage," ")}}function P(r,m){if(r&1&&(e(0,"div",25)(1,"h5",27),n(2),t(),e(3,"p",28),n(4),t(),e(5,"p",28),n(6),t()()),r&2){let i=m.$implicit;o(2),l(" ",i.fullName," "),o(2),l(" Email: ",i.email," "),o(2),l(" Contrase\xF1a: ",i.password," ")}}var H=(()=>{class r{authService;router;email="";password="";errorMessage=null;users;constructor(i,d){this.authService=i,this.router=d}ngOnInit(){this.users=this.authService.getUsers(),console.log(this.users)}onSubmit(){this.email&&this.password&&this.authService.login(this.email,this.password).subscribe(i=>{i.error?(console.log(i.error),this.setErrorMessage(i.error)):(this.errorMessage=null,this.router.navigate(["/dashboard"]).then(()=>{location.reload()}),console.log(i.user))})}setErrorMessage(i){switch(i){case"Invalid credentials":this.errorMessage="Credenciales incorrectas. Por favor, verifica tu correo electr\xF3nico y contrase\xF1a.";break;case"User not found":this.errorMessage="Usuario no encontrado. Por favor, reg\xEDstrate primero.";break;case"Account locked":this.errorMessage="Cuenta bloqueada. Contacta al soporte para obtener ayuda.";break;default:this.errorMessage="Ocurri\xF3 un error. Int\xE9ntalo nuevamente m\xE1s tarde."}}static \u0275fac=function(d){return new(d||r)(p(F),p(M))};static \u0275cmp=v({type:r,selectors:[["app-login"]],standalone:!0,features:[y],decls:40,vars:5,consts:[[1,"md:flex","md:inline-flex","md:grid","grid-cols-6","h-full","mb-6"],[1,"justify-center","md:px-12","w-full","sm:col-span-4","hidden","md:flex"],[1,"flex","flex-col","justify-center","rounded-xl","shadow","shadow-slate-300","bg-white","m-auto","w-full","px-4","py-2"],[1,"mx-auto","text-primary2","mb-4","font-bold"],["class","border-b-2 pb-2 mb-6",4,"ngFor","ngForOf"],[1,"md:col-span-2","my-10","bg-white","p-8","rounded-xl","shadow","shadow-slate-300","lg:mr-20"],[1,"flex","justify-center","w-full"],["src","assets/super_transporte.png","width","200px","alt",""],[1,"my-3","mt-14"],[1,"text-3xl","text-[#0659a5]"],[1,"mt-2"],["class","text-red-600 font-medium mb-4",4,"ngIf"],[1,"my-10",3,"ngSubmit"],[1,"flex","flex-col","space-y-5"],["for","email"],[1,"font-medium","text-slate-700","pb-2"],["id","email","name","email","type","email","placeholder","Correo electr\xF3nico","required","",1,"w-full","py-3","border","border-slate-200","rounded-lg","px-3","focus:outline-none","focus:border-slate-500","hover:shadow",3,"ngModelChange","ngModel"],["for","password"],["id","password","name","password","type","password","placeholder","Contrase\xF1a","required","",1,"w-full","py-3","border","border-slate-200","rounded-lg","px-3","focus:outline-none","focus:border-slate-500","hover:shadow",3,"ngModelChange","ngModel"],["type","submit",1,"w-48","py-3","font-medium","text-white","bg-[#3266cc]","hover:bg-[#004075]","rounded-full","border-[#3266cc]","hover:shadow","inline-flex","space-x-2","items-center","justify-center"],["href","#",1,"font-medium","text-[#3266cc]"],["href","#",1,"text-[#3266cc]","font-medium","inline-flex","space-x-1","items-center"],[1,"flex","justify-center","px-2","w-full","md:hidden","block"],[1,"flex","flex-col","justify-center","rounded-xl","shadow","shadow-slate-300","bg-white","m-auto","w-full","p-2"],[1,"mx-auto","text-primary2","mb-4","font-semibold"],[1,"border-b-2","pb-2","mb-6"],[1,"text-red-600","font-medium","mb-4"],[1,"text-sm"],[1,"text-xs"]],template:function(d,a){d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),n(4,"Credenciales"),t(),u(5,q,7,3,"div",4),t()(),e(6,"div",5)(7,"div",6),b(8,"img",7),t(),e(9,"div",8)(10,"h1",9)(11,"b"),n(12,"Inicio de Sesi\xF3n"),t()(),e(13,"p",10),n(14," Los campos marcados con * son obligatorios "),t()(),u(15,D,2,1,"div",11),e(16,"form",12),w("ngSubmit",function(){return a.onSubmit()}),e(17,"div",13)(18,"label",14)(19,"p",15),n(20,"Tipo de acceso*"),t(),e(21,"input",16),h("ngModelChange",function(s){return g(a.email,s)||(a.email=s),s}),t()(),e(22,"label",17)(23,"input",18),h("ngModelChange",function(s){return g(a.password,s)||(a.password=s),s}),t()(),e(24,"button",19)(25,"span"),n(26,"Continuar"),t()(),e(27,"div")(28,"a",20),n(29,"Olvid\xE9 mi contrase\xF1a"),t()(),e(30,"p"),n(31," \xBFNo tienes cuenta? "),e(32,"a",21)(33,"span"),n(34,"Reg\xEDstrate aqu\xED"),t()()()()()(),e(35,"div",22)(36,"div",23)(37,"h4",24),n(38,"Credenciales"),t(),u(39,P,7,3,"div",4),t()()()),d&2&&(o(5),c("ngForOf",a.users),o(10),c("ngIf",a.errorMessage),o(6),f("ngModel",a.email),o(2),f("ngModel",a.password),o(16),c("ngForOf",a.users))},dependencies:[E,C,_,k,O,I,L,N,W,T,j]})}return r})();export{H as a};
